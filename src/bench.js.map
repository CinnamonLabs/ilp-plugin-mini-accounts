{"version":3,"file":"bench.js","sourceRoot":"","sources":["bench.ts"],"names":[],"mappings":"AAAA,MAAM,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AAElC;IAAA;QACS,SAAI,GAAW,CAAC,CAAA;QAChB,UAAK,GAAW,CAAC,CAAA;IAc1B,CAAC;IAZC,IAAI,CAAE,KAAa;QACjB,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAA;QAC7B,IAAI,CAAC,KAAK,EAAE,CAAA;QACZ,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAA;IAC5C,CAAC;IAED,KAAK;QACH,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;QACd,IAAI,CAAC,IAAI,GAAG,CAAC,CAAA;IACf,CAAC;IAED,GAAG,KAAc,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAA,CAAC,CAAC;CACjD;AAED,MAAM,CAAC,OAAO,GAAG;IACf,MAAM,KAAK,GAAG,IAAI,KAAK,EAAE,CAAA;IACzB,WAAW,CAAC;QACV,IAAI,KAAK,CAAC,KAAK,KAAK,CAAC;YAAE,OAAM;QAC7B,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;QACnD,KAAK,CAAC,KAAK,EAAE,CAAA;IACf,CAAC,EAAE,KAAK,CAAC,CAAA;IACT,OAAO,KAAK,CAAA;AACd,CAAC,CAAA","sourcesContent":["const perf = require('perf_hooks')\n\nclass Stats {\n  public mean: number = 0\n  public count: number = 0\n\n  push (start: number) {\n    const dt = this.now() - start\n    this.count++\n    this.mean += (dt - this.mean) / this.count\n  }\n\n  reset () {\n    this.count = 0\n    this.mean = 0\n  }\n\n  now (): number { return perf.performance.now() }\n}\n\nmodule.exports = function (): Stats {\n  const stats = new Stats()\n  setInterval(function () {\n    if (stats.count === 0) return\n    console.log('$', stats.mean, 'count=', stats.count)\n    stats.reset()\n  }, 60000)\n  return stats\n}\n"]}